cmake_minimum_required(VERSION 2.8)
project(larank CXX)

set(larank_SOURCES
    decision_function.cpp
    larank.cpp
    pattern.cpp
)

set(larank_HEADERS
    larank.h
)

add_library(larank OBJECT ${larank_SOURCES} ${larank_HEADERS})
target_compile_definitions(larank PRIVATE onyx_EXPORTS) # Because the export header was generated by parent CMakeLists.txt, we need to define this manually here!
set_target_properties(larank PROPERTIES POSITION_INDEPENDENT_CODE 1) # We need -fPIC to create final shared library

# Install headers
install(FILES ${larank_HEADERS} DESTINATION ${CMAKE_INSTALL_INCLUDEDIR}/onyx/larank)
